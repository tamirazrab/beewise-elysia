# Copy this file to .env and fill in your values. Never commit .env (repo may be public).
# cp .env.example .env

# Application
NODE_ENV=development
HOST=0.0.0.0
PORT=3000

# Database (PostgreSQL)
# Local: postgresql://postgres:YOUR_PASSWORD@localhost:5432/elysia_db
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@localhost:5432/elysia_db
# Optional: path to CA cert for DB SSL. Relative to project root or absolute.
# DATABASE_SSL_CA_PATH=./staging-ca-2021.crt

# Optional: control migrations and seed in Docker entrypoint (default: RUN_MIGRATIONS=true, RUN_SEED=false)
# RUN_MIGRATIONS=true
# RUN_SEED=false

# Authentication (Better Auth)
ENABLE_AUTH=true
REQUIRE_EMAIL_VERIFICATION=false

# ⚠️ SECURITY: Generate a strong secret (min 32 chars)
# Example: openssl rand -base64 32
BETTER_AUTH_SECRET=your-very-long-random-secret-here
# Base URL of your app (used for redirects and email links)
# Staging: https://api-staging.yourdomain.com  (must match actual staging URL)
BETTER_AUTH_URL=http://localhost:3000

# Logging (levels: fatal/error/warn/info/debug/trace)
LOG_LEVEL=info

# CORS (comma-separated origins)
# Staging: add your staging frontend origin, e.g. https://app-staging.yourdomain.com
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Optional - uncomment and configure as needed
# -----------------------------------------------------------------------------

# Email (Resend) - see README for setup instructions
# ⚠️ onboarding@resend.dev only sends to your Resend account email (sandbox mode)
# For production, verify your domain at Resend and use: noreply@yourdomain.com
# Get your API key at https://resend.com
# RESEND_API_KEY=re_xxxxxxxxxxxxx
# EMAIL_FROM=onboarding@resend.dev

# Rate Limiting (recommended ON in production)
# ENABLE_RATE_LIMITER=true
# RATE_LIMIT_WINDOW_MS=60000    # 60 seconds
# RATE_LIMIT_MAX=100            # 100 requests per window
# AUTH_RATE_LIMIT_WINDOW_MS=60000
# AUTH_RATE_LIMIT_MAX=10
# When behind a trusted reverse proxy that sets x-forwarded-for / x-real-ip
# TRUST_PROXY=true

# Auth uses Better Auth + JWT; storage uses S3 (see AWS section).

# Voice Chat (Nova Sonic)
# BEDROCK_NOVA_SONIC_MODEL_ID=amazon.nova-sonic-v1:0
# VOICE_WS_TOKEN_EXPIRY_SEC=300
# VOICE_DAILY_MINUTES_PER_USER=2
# VOICE_DAILY_BUDGET_USD=20
# VOICE_MAX_SESSION_MINUTES=5

# -----------------------------------------------------------------------------
# Staging (e.g. Coolify) – set these in your staging environment
# -----------------------------------------------------------------------------
# APP_ENV=staging
# NODE_ENV=production
# DATABASE_URL=postgresql://user:pass@staging-db:5432/beewise
# BETTER_AUTH_URL=https://api-staging.yourdomain.com
# CORS_ORIGIN=https://app-staging.yourdomain.com
# BETTER_AUTH_SECRET=<strong-secret-32-chars>
# OPENAI_API_KEY=<your-key-if-using-paid-ai-chat>
